<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>offsetof (3)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
<link href="/man/index.css" rel="stylesheet" />
</head>
<body style="overscroll-behavior-x: auto">
<main>
<table class="head">
  <tr>
    <td class="head-ltitle">offsetof(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">offsetof(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">offsetof - offset of a structure member</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARY"><a class="permalink" href="#LIBRARY">LIBRARY</a></h1>
<p class="Pp">Standard C library (<i>libc</i>, <i>-lc</i>)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre><b>#include &lt;stddef.h&gt;</b></pre>
<pre><b>size_t offsetof(</b><i>type</i><b>, </b><i>member</i><b>);</b></pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The macro <b>offsetof</b>() returns the offset of the field
    <i>member</i> from the start of the structure <i>type</i>.</p>
<p class="Pp">This macro is useful because the sizes of the fields that compose
    a structure can vary across implementations, and compilers may insert
    different numbers of padding bytes between fields. Consequently, an
    element's offset is not necessarily given by the sum of the sizes of the
    previous elements.</p>
<p class="Pp">A compiler error will result if <i>member</i> is not aligned to a
    byte boundary (i.e., it is a bit field).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp"><b>offsetof</b>() returns the offset of the given <i>member</i>
    within the given <i>type</i>, in units of bytes.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
<p class="Pp">C11, POSIX.1-2008.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">POSIX.1-2001, C89.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">On a Linux/i386 system, when compiled using the default
    <b>gcc</b>(1) options, the program below produces the following output:</p>
<p class="Pp">
  <br/>
</p>
<pre>$<b> ./a.out</b>
offsets: i=0; c=4; d=8 a=16
sizeof(struct s)=16
</pre>
<br/>
<section class="Ss">
<h2 class="Ss" id="Program_source"><a class="permalink" href="#Program_source">Program
  source</a></h2>
<p class="Pp"></p>
<pre>#include &lt;stddef.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
int
main(void)
{
<br/>
    struct s {
<br/>
        int i;
<br/>
        char c;
<br/>
        double d;
<br/>
        char a[];
<br/>
    };
<br/>
    /* Output is compiler dependent */
<br/>
    printf(&quot;offsets: i=%zu; c=%zu; d=%zu a=%zu\n&quot;,
<br/>
           offsetof(struct s, i), offsetof(struct s, c),
<br/>
           offsetof(struct s, d), offsetof(struct s, a));
<br/>
    printf(&quot;sizeof(struct s)=%zu\n&quot;, sizeof(struct s));
<br/>
    exit(EXIT_SUCCESS);
}
</pre>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2023-10-31</td>
    <td class="foot-os">Linux man-pages 6.7</td>
  </tr>
</table>
</main>
</body>
</html>
