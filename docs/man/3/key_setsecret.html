<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>key_setsecret (3)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
<link href="/man/index.css" rel="stylesheet" />
</head>
<body style="overscroll-behavior-x: auto">
<main>
<table class="head">
  <tr>
    <td class="head-ltitle">key_setsecret(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">key_setsecret(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">key_decryptsession, key_encryptsession, key_setsecret, key_gendes,
    key_secretkey_is_set - interfaces to rpc keyserver daemon</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARY"><a class="permalink" href="#LIBRARY">LIBRARY</a></h1>
<p class="Pp">Standard C library (<i>libc</i>, <i>-lc</i>)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre><b>#include &lt;rpc/rpc.h&gt;</b></pre>
<pre><b>int key_decryptsession(char *</b><i>remotename</i><b>, des_block *</b><i>deskey</i><b>);</b>
<b>int key_encryptsession(char *</b><i>remotename</i><b>, des_block *</b><i>deskey</i><b>);</b></pre>
<pre><b>int key_gendes(des_block *</b><i>deskey</i><b>);</b></pre>
<pre><b>int key_setsecret(char *</b><i>key</i><b>);</b>
<b>int key_secretkey_is_set(void);</b></pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The functions here are used within the RPC's secure authentication
    mechanism (AUTH_DES). There should be no need for user programs to use this
    functions.</p>
<p class="Pp">The function <b>key_decryptsession</b>() uses the (remote) server
    netname and takes the DES key for decrypting. It uses the public key of the
    server and the secret key associated with the effective UID of the calling
    process.</p>
<p class="Pp">The function <b>key_encryptsession</b>() is the inverse of
    <b>key_decryptsession</b>(). It encrypts the DES keys with the public key of
    the server and the secret key associated with the effective UID of the
    calling process.</p>
<p class="Pp">The function <b>key_gendes</b>() is used to ask the keyserver for
    a secure conversation key.</p>
<p class="Pp">The function <b>key_setsecret</b>() is used to set the key for the
    effective UID of the calling process.</p>
<p class="Pp">The function <b>key_secretkey_is_set</b>() can be used to
    determine whether a key has been set for the effective UID of the calling
    process.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">These functions return 1 on success and 0 on failure.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ATTRIBUTES"><a class="permalink" href="#ATTRIBUTES">ATTRIBUTES</a></h1>
<p class="Pp">For an explanation of the terms used in this section, see
    <b>attributes</b>(7).</p>
<table class="tbl" border="1" style="border-style: solid;">
  <tr>
    <td><b>Interface</b></td>
    <td><b>Attribute</b></td>
    <td><b>Value</b></td>
  </tr>
  <tr>
    <td>key_decryptsession (), key_encryptsession (), key_gendes (),
      key_setsecret (), key_secretkey_is_set ()</td>
    <td>Thread safety</td>
    <td>MT-Safe</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<p class="Pp">Note that we talk about two types of encryption here. One is
    asymmetric using a public and secret key. The other is symmetric, the 64-bit
    DES.</p>
<p class="Pp">These routines were part of the Linux/Doors-project, abandoned by
    now.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>crypt</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2023-10-31</td>
    <td class="foot-os">Linux man-pages 6.7</td>
  </tr>
</table>
</main>
</body>
</html>
