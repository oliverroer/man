<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>dpkg-split (1)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
<link href="/man/index.css" rel="stylesheet" />
</head>
<body style="overscroll-behavior-x: auto">
<main>
<table class="head">
  <tr>
    <td class="head-ltitle">dpkg-split(1)</td>
    <td class="head-vol">dpkg suite</td>
    <td class="head-rtitle">dpkg-split(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">dpkg-split - Debian package archive split/join tool</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>dpkg-split</b> [<i>option</i>...] <i>command</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>dpkg-split</b> splits Debian binary package files into smaller
    parts and reassembles them again, to support the storage of large package
    files on small media such as floppy disks.</p>
<p class="Pp">It can be operated manually using the <b>--split</b>,
    <b>--join</b> and <b>--info</b> options.</p>
<p class="Pp">It also has an automatic mode, invoked using the <b>--auto</b>
    option, where it maintains a queue of parts seen but not yet reassembled and
    reassembles a package file when it has seen all of its parts. The
    <b>--listq</b> and <b>--discard</b> options allow the management of the
    queue.</p>
<p class="Pp">All splitting, joining and queueing operations produce informative
    messages on standard output; these may safely be ignored.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMMANDS"><a class="permalink" href="#COMMANDS">COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt id="s"><a class="permalink" href="#s"><b>-s</b>, <b>--split</b>
    <i>complete-archive</i> [<i>prefix</i>]</a></dt>
  <dd>Splits a single Debian binary package into several parts.
    <p class="Pp">The parts are named
        <i>prefix</i><b>.</b><i>N</i><b>of</b><i>M</i><b>.deb</b> where <i>N</i>
        is the part number, starting at 1, and <i>M</i> is the total number of
        parts (both in decimal).</p>
    <p class="Pp">If no <i>prefix</i> is supplied then the
        <i>complete-archive</i> filename is taken, including directory, with any
        trailing <b>.deb</b> removed.</p>
  </dd>
  <dt id="j"><a class="permalink" href="#j"><b>-j</b>, <b>--join</b>
    <i>part</i>...</a></dt>
  <dd>Joins the parts of a package file together, reassembling the original file
      as it was before it was split.
    <p class="Pp">The part files given as arguments must be all the parts of
        exactly the same original binary file. Each part must occur exactly once
        in the argument list, though the parts to not need to be listed in
        order.</p>
    <p class="Pp">The parts must of course all have been generated with the same
        part size specified at split time, which means that they must usually
        have been generated by the same invocation of <b>dpkg-split
      --split</b>.</p>
    <p class="Pp">The parts' filenames are not significant for the reassembly
        process.</p>
    <p class="Pp">By default the output file is called
        <i>package</i><b>_</b><i>version</i><b>_</b><i>arch</i><b>.deb</b>.</p>
  </dd>
  <dt id="I"><a class="permalink" href="#I"><b>-I</b>, <b>--info</b>
    <i>part</i>...</a></dt>
  <dd>Prints information, in a human-readable format, about the part file(s)
      specified. Arguments which are not binary package parts produce a message
      saying so instead (but still on standard output).</dd>
  <dt id="a"><a class="permalink" href="#a"><b>-a</b>, <b>--auto -o</b>
    <i>complete-output</i> <i>part</i></a></dt>
  <dd>Automatically queue parts and reassemble a package if possible.
    <p class="Pp">The <i>part</i> specified is examined, and compared with other
        parts of the same package (if any) in the queue of packages file
      parts.</p>
    <p class="Pp">If all parts of the package file of which <i>part</i> is a
        part are available then the package is reassembled and written to
        <i>complete-output</i> (which should not usually already exist, though
        this is not an error).</p>
    <p class="Pp">If not then the <i>part</i> is copied into the queue and
        <i>complete-output</i> is not created.</p>
    <p class="Pp">If <i>part</i> is not a split binary package part then
        <b>dpkg-split</b> will exit with status <b>1</b>; if some other trouble
        occurs then it will exit with status <b>2</b>.</p>
    <p class="Pp">The <b>--output</b> or <b>-o</b> option must be supplied when
        using <b>--auto</b>. (If this were not mandatory the calling program
        would not know what output file to expect.)</p>
  </dd>
  <dt id="l"><a class="permalink" href="#l"><b>-l</b>, <b>--listq</b></a></dt>
  <dd>Lists the contents of the queue of packages to be reassembled.
    <p class="Pp">For each package file of which parts are in the queue the
        output gives the name of the package, the parts in the queue, and the
        total number of bytes stored in the queue.</p>
  </dd>
  <dt id="d"><a class="permalink" href="#d"><b>-d</b>, <b>--discard</b>
    [<i>package</i>...]</a></dt>
  <dd>This discards parts from the queue of those waiting for the remaining
      parts of their packages.
    <p class="Pp">If no <i>package</i> is specified then the queue is cleared
        completely; if any are specified then only parts of the relevant
        package(s) are deleted.</p>
  </dd>
  <dt><b>-?</b>, <b>--help</b></dt>
  <dd>Show the usage message and exit.</dd>
  <dt id="version"><a class="permalink" href="#version"><b>--version</b></a></dt>
  <dd>Show the version and exit.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="depotdir"><a class="permalink" href="#depotdir"><b>--depotdir</b>
    <i>directory</i></a></dt>
  <dd>Specifies an alternative directory for the queue of parts awaiting
      automatic reassembly. The default is <b>/var/lib/dpkg/parts</b>.</dd>
  <dt id="admindir"><a class="permalink" href="#admindir"><b>--admindir</b>
    <i>directory</i></a></dt>
  <dd>Set the administrative directory to <i>directory</i> (since dpkg 1.21.10).
      This is where the <i>statoverride</i> file is stored. Defaults to
      &#x00AB;<i>/var/lib/dpkg</i>&#x00BB; if <b>DPKG_ADMINDIR</b> has not been
      set.</dd>
  <dt id="root"><a class="permalink" href="#root"><b>--root</b>
    <i>directory</i></a></dt>
  <dd>Set the root directory to <b>directory</b> (since dpkg 1.21.10), which
      sets the installation directory to &#x00AB;<i>directory</i>&#x00BB; and
      the administrative directory to
      &#x00AB;<i>directory</i><b>/var/lib/dpkg</b>&#x00BB; if <b>DPKG_ROOT</b>
      has not been set.</dd>
  <dt id="S"><a class="permalink" href="#S"><b>-S</b>, <b>--partsize</b>
    <i>kibibytes</i></a></dt>
  <dd>Specifies the maximum part size when splitting, in kibibytes (1024 bytes).
      The default is 450 KiB.</dd>
  <dt id="o"><a class="permalink" href="#o"><b>-o</b>, <b>--output</b>
    <i>complete-output</i></a></dt>
  <dd>Specifies the output file name for a reassembly.
    <p class="Pp">This overrides the default for a manual reassembly
        (<b>--join</b>) and is mandatory for an automatic queue-or-reassemble
        (<b>--auto</b>).</p>
  </dd>
  <dt id="Q"><a class="permalink" href="#Q"><b>-Q</b>, <b>--npquiet</b></a></dt>
  <dd>When doing automatic queue-or-reassembly <b>dpkg-split</b> usually prints
      a message if it is given a <i>part</i> that is not a binary package part.
      This option suppresses this message, to allow programs such as <b>dpkg</b>
      to cope with both split and unsplit packages without producing spurious
      messages.</dd>
  <dt id="msdos"><a class="permalink" href="#msdos"><b>--msdos</b></a></dt>
  <dd>Forces the output filenames generated by <b>--split</b> to be
      MSDOS-compatible.
    <p class="Pp">This mangles the prefix - either the default derived from the
        input filename or the one supplied as an argument: alphanumerics are
        lowercased, plus signs are replaced by <b>x</b>'s and all other
        characters are discarded.</p>
    <p class="Pp">The result is then truncated as much as is necessary, and
        filenames of the form <i>prefixN</i><b>of</b><i>M</i><b>.deb</b> are
        generated.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<dl class="Bl-tag">
  <dt><b>0</b></dt>
  <dd>The requested split, merge, or other command succeeded. <b>--info</b>
      commands count as successful even if the files are not binary package
      parts.</dd>
  <dt><b>1</b></dt>
  <dd>Only occurs with <b>--auto</b> and indicates that the <i>part</i> file was
      not a binary package part.</dd>
  <dt><b>2</b></dt>
  <dd>Fatal or unrecoverable error due to invalid command-line usage, a file
      that looked like a package part file but was corrupted, or interactions
      with the system, such as accesses to the database, memory allocations,
      etc.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt id="DPKG_ROOT"><a class="permalink" href="#DPKG_ROOT"><b>DPKG_ROOT</b></a></dt>
  <dd>If set and <b>--root</b> option has not been specified, it will be used as
      the filesystem root directory (since dpkg 1.21.10).</dd>
  <dt id="DPKG_ADMINDIR"><a class="permalink" href="#DPKG_ADMINDIR"><b>DPKG_ADMINDIR</b></a></dt>
  <dd>If set and the <b>--admindir</b> or <b>--root</b> options have not been
      specified, it will be used as the <b>dpkg</b> data directory (since dpkg
      1.21.10).</dd>
  <dt id="DPKG_DEBUG"><a class="permalink" href="#DPKG_DEBUG"><b>DPKG_DEBUG</b></a></dt>
  <dd>Sets the debug mask (since dpkg 1.21.10) from an octal value. The
      currently accepted flags are described in the <b>dpkg --debug</b> option,
      but not all these flags might have an effect on this program.</dd>
  <dt id="DPKG_COLORS"><a class="permalink" href="#DPKG_COLORS"><b>DPKG_COLORS</b></a></dt>
  <dd>Sets the color mode (since dpkg 1.18.5). The currently accepted values
      are: <b>auto</b> (default), <b>always</b> and <b>never</b>.</dd>
  <dt id="SOURCE_DATE_EPOCH"><a class="permalink" href="#SOURCE_DATE_EPOCH"><b>SOURCE_DATE_EPOCH</b></a></dt>
  <dd>If set, it will be used as the timestamp (as seconds since the epoch) in
      the <b>deb-split</b>(5)'s <b>ar</b>(5) container.
    <p class="Pp">Since dpkg 1.18.11.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt><i>/var/lib/dpkg/parts</i></dt>
  <dd>The default queue directory for part files awaiting automatic reassembly.
    <p class="Pp">The filenames used in this directory are in a format internal
        to <b>dpkg-split</b> and are unlikely to be useful to other programs,
        and in any case the filename format should not be relied upon.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY"><a class="permalink" href="#SECURITY">SECURITY</a></h1>
<p class="Pp">Examining or joining untrusted split package archives should be
    considered a security boundary, and any breakage of that boundary stemming
    from these operations should be considered a security vulnerability.
    Performing these operations over untrusted data as root is strongly
    discouraged.</p>
<p class="Pp">Auto-accumulating and discarding split package parts are
    considered privileged operations that might allow root escalation. These
    operations must never be delegated to an untrusted user or be done on
    untrusted packages, as that might allow root access to the system.</p>
<p class="Pp">Splitting package archives should only be performed over trusted
    data.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Full details of the packages in the queue are impossible to get
    without digging into the queue directory yourself.</p>
<p class="Pp">There is no easy way to test whether a file that may be a binary
    package part is one.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>deb</b>(5), <b>deb-control</b>(5), <b>dpkg-deb</b>(1),
    <b>dpkg</b>(1).</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2024-07-17</td>
    <td class="foot-os">1.22.6</td>
  </tr>
</table>
</main>
</body>
</html>
