<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>eqn (1)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
<link href="/man/index.css" rel="stylesheet" />
</head>
<body style="overscroll-behavior-x: auto">
<main>
<table class="head">
  <tr>
    <td class="head-ltitle">eqn(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">eqn(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="Name"><a class="permalink" href="#Name">Name</a></h1>
<p class="Pp">eqn - format mathematics (equations) for <i>groff</i> or
  MathML</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Synopsis"><a class="permalink" href="#Synopsis">Synopsis</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">eqn</code></td>
    <td>[<b>-CNrR</b>] [<b>-</b>d <i>xy</i>] [<b>-f</b> <i>F</i>] [<b>-m</b>
      <i>n</i>] [<b>-M</b> <i>dir</i>] [<b>-p</b> <i>n</i>] [<b>-s</b> <i>n</i>]
      [<b>-T</b> <i>dev</i>] [<i>file&#x00A0;</i>...]</td>
  </tr>
</table>
<table class="Nm">
  <tr>
    <td><code class="Nm">eqn</code></td>
    <td><b>--help</b></td>
  </tr>
</table>
<table class="Nm">
  <tr>
    <td><code class="Nm">eqn</code></td>
    <td><b>-v</b></td>
  </tr>
</table>
<table class="Nm">
  <tr>
    <td><code class="Nm">eqn</code></td>
    <td><b>--version</b></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="Description"><a class="permalink" href="#Description">Description</a></h1>
<p class="Pp">The GNU implementation of <i>eqn</i> is part of the
    <i>groff</i>(7) document formatting system. <i>eqn</i> is a <i>troff</i>(1)
    preprocessor that translates expressions in its own language, embedded in
    <i>roff</i>(7) input files, into mathematical notation typeset by
    <i>troff</i>(1). It copies each <i>file</i>'s contents to the standard
    output stream, translating each <i>equation</i> between lines starting with
    <b>.EQ</b> and <b>.EN</b>, or within a pair of user-specified delimiters.
    Normally, <i>eqn</i> is not executed directly by the user, but invoked by
    specifying the <b>-e</b> option to <i>groff</i>(1). While GNU <i>eqn</i>'s
    input syntax is highly compatible with AT&amp;T <i>eqn</i>, the output
    <i>eqn</i> produces cannot be processed by AT&amp;T <i>troff</i>; GNU
    <i>troff</i> (or a <i>troff</i> implementing relevant GNU extensions) must
    be used. If no <i>file</i> operands are given on the command line, or if
    <i>file</i> is &#x201C;<b>-</b>&#x201D;, <i>eqn</i> reads the standard input
    stream.</p>
<p class="Pp">Unless the <b>-R</b> option is used, <i>eqn</i> searches for the
    file <i>eqnrc</i> in the directories given with the <b>-M</b> option first,
    then in <i>/usr/share/groff/site-tmac</i>, and finally in the standard macro
    directory <i>/usr/share/groff/1.23.0/tmac</i>. If it exists and is readable,
    <i>eqn</i> processes it before any input files.</p>
<p class="Pp">This man page primarily discusses the differences between GNU
    <i>eqn</i> and AT&amp;T <i>eqn</i>. Most of the new features of the GNU
    <i>eqn</i> input language are based on TeX. There are some references to the
    differences between TeX and GNU <i>eqn</i> below; these may safely be
    ignored if you do not know TeX.</p>
<p class="Pp">Three points are worth special note.</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>GNU <i>eqn</i> emits Presentation MathML output when invoked with the
      &#x201C;<b>-T&#x00A0;MathML</b>&#x201D; option.</dd>
  <dt>&#x2022;</dt>
  <dd>GNU <i>eqn</i> does not support terminal devices well, though it may
      suffice for simple inputs.</dd>
  <dt>&#x2022;</dt>
  <dd>GNU <i>eqn</i> sets the input token &#x201C;<b>...</b>&#x201D; as an
      ellipsis on the text baseline, not the three centered dots of AT&amp;T
      <i>eqn</i>. Set an ellipsis on the math axis with the GNU extension macro
      <b>cdots</b>.</dd>
</dl>
<section class="Ss">
<h2 class="Ss" id="Anatomy_of_an_equation"><a class="permalink" href="#Anatomy_of_an_equation">Anatomy
  of an equation</a></h2>
<p class="Pp"><i>eqn</i> input consists of tokens. Consider a form of Newton's
    second law of motion. The input</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>.EQ
F =
m a
.EN
</pre>
</div>
<p class="Pp">becomes
  <math class="eqn">
    <mrow><mi>F</mi><mo>=</mo><mi>m</mi><mi>a</mi><mo>.</mo></mrow>
  </math>
  Each of <b>F</b>, <b>=</b>, <b>m</b>, and <b>a</b> is a token. Spaces and
    newlines are interchangeable; they separate tokens but do not break lines or
    produce space in the output.</p>
<p class="Pp">The following input characters not only separate tokens, but
    manage their grouping and spacing as well.</p>
<dl class="Bl-tag">
  <dt><b>{ }</b></dt>
  <dd>Braces perform grouping. Whereas &#x201C;<b>e sup a b</b>&#x201D;
      expresses &#x201C;(<i>e</i>&#x00A0;to
      the&#x00A0;<i>a</i>)&#x00A0;times&#x00A0;<i>b</i>&#x201D;, &#x201C;<b>e
      sup { a b }</b>&#x201D; means &#x201C;<i>e</i>&#x00A0;to
      the&#x00A0;(<i>a</i>&#x00A0;times&#x00A0;<i>b</i>)&#x201D;. When
      immediately preceded by a &#x201C;<b>left</b>&#x201D; or
      &#x201C;<b>right</b>&#x201D; primitive, a brace loses its special
    meaning.</dd>
  <dt><b>^ ~</b></dt>
  <dd>are the <i>half space</i> and <i>full space,</i> respectively. Use them to
      tune the appearance of the output.</dd>
</dl>
<p class="Pp">Tab and leader characters separate tokens as well as advancing the
    drawing position to the next tab stop, but are seldom used in <i>eqn</i>
    input. When they occur, they must appear at the outermost lexical scope.
    This roughly means that they can't appear within braces that are necessary
    to disambiguate the input; <i>eqn</i> will diagnose an error in this event.
    (See subsection &#x201C;Macros&#x201D; below for additional token separation
    rules.)</p>
<p class="Pp">Other tokens are primitives, macros, an argument to either of the
    foregoing, or components of an equation.
  <br/>
</p>
<p class="Pp"><i>Primitives</i> are fundamental keywords of the <i>eqn</i>
    language. They can configure an aspect of the preprocessor's state, as when
    setting a &#x201C;global&#x201D; font selection or type size (<b>gfont</b>
    and <b>gsize</b>), or declaring or deleting macros
    (&#x201C;<b>define</b>&#x201D; and <b>undef</b>); these are termed
    <i>commands.</i> Other primitives perform formatting operations on the
    tokens after them (as with <b>fat</b>, <b>over</b>, <b>sqrt</b>, or
    <b>up</b>).</p>
<p class="Pp">Equation <i>components</i> include mathematical variables,
    constants, numeric literals, and operators. <i>eqn</i> remaps some input
    character sequences to <i>groff</i> special character escape sequences for
    economy in equation entry and to ensure that glyphs from an unstyled font
    are used; see <i>groff_char</i>(7).</p>
<p class="Pp"></p>
<div class="Bd-indent">
<table class="tbl">
  <tr>
    <td>+</td>
    <td>\[pl]</td>
    <td></td>
    <td>'</td>
    <td>\[fm]</td>
  </tr>
  <tr>
    <td>-</td>
    <td>\[mi]</td>
    <td></td>
    <td>&lt;=</td>
    <td>\[&lt;=]</td>
  </tr>
  <tr>
    <td>=</td>
    <td>\[eq]</td>
    <td></td>
    <td>&gt;=</td>
    <td>\[&gt;=]</td>
  </tr>
</table>
</div>
<p class="Pp"><i>Macros</i> permit primitives, components, and other macros to
    be collected and referred to by a single token. Predefined macros make
    convenient the preparation of <i>eqn</i> input in a form resembling its
    spoken expression; for example, consider <b>cos</b>, <b>hat</b>, <b>inf</b>,
    and <b>lim</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Spacing_and_typeface"><a class="permalink" href="#Spacing_and_typeface">Spacing
  and typeface</a></h2>
<p class="Pp">GNU <i>eqn</i> imputes types to the components of an equation,
    adjusting the spacing between them accordingly. Recognized types are as
    follows; most affect spacing only, whereas the &#x201C;<b>letter</b>&#x201D;
    subtype of &#x201C;<b>ordinary</b>&#x201D; also assigns a style.</p>
<div class="Bd-indent">
<p class="Pp"></p>
<table class="tbl">
  <tr>
    <td>ordinary</td>
    <td>character such as &#x201C;1&#x201D;, &#x201C;a&#x201D;, or
      &#x201C;!&#x201D;</td>
  </tr>
  <tr>
    <td>&#x2003;letter</td>
    <td>character to be italicized by default</td>
  </tr>
  <tr>
    <td>&#x2003;digit</td>
    <td><i>n/a</i></td>
  </tr>
  <tr>
    <td>operator</td>
    <td>large operator such as &#x201C;&#x03A3;&#x201D;</td>
  </tr>
  <tr>
    <td>binary</td>
    <td>binary operator such as &#x201C;+&#x201D;</td>
  </tr>
  <tr>
    <td>relation</td>
    <td>relational operator such as &#x201C;=&#x201D;</td>
  </tr>
  <tr>
    <td>opening</td>
    <td>opening bracket such as &#x201C;(&#x201D;</td>
  </tr>
  <tr>
    <td>closing</td>
    <td>closing bracket such as &#x201C;)&#x201D;</td>
  </tr>
  <tr>
    <td>punctuation</td>
    <td>punctuation character such as &#x201C;,&#x201D;</td>
  </tr>
  <tr>
    <td>inner</td>
    <td>sub-formula contained within brackets</td>
  </tr>
  <tr>
    <td>suppress</td>
    <td>component to which automatic spacing is not applied</td>
  </tr>
</table>
</div>
<p class="Pp">Two primitives apply types to equation components.</p>
<dl class="Bl-tag">
  <dt id="type"><a class="permalink" href="#type"><b>type&#x00A0;</b><i>t
    e</i></a></dt>
  <dd>Apply type&#x00A0;<i>t</i> to expression&#x00A0;<i>e</i>.</dd>
  <dt id="chartype"><a class="permalink" href="#chartype"><b>chartype&#x00A0;</b><i>t
    text</i></a></dt>
  <dd>Assign each character in (unquoted) <i>text</i> type&#x00A0;<i>t</i>,
      persistently.</dd>
</dl>
<p class="Pp"><i>eqn</i> sets up spacings and styles as if by the following
    commands.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<table class="tbl">
  <tr>
    <td>chartype &quot;letter&quot;</td>
    <td>abcdefghiklmnopqrstuvwxyz</td>
  </tr>
  <tr>
    <td>chartype &quot;letter&quot;</td>
    <td>ABCDEFGHIKLMNOPQRSTUVWXYZ</td>
  </tr>
  <tr>
    <td>chartype &quot;letter&quot;</td>
    <td>\[*a]\[*b]\[*g]\[*d]\[*e]\[*z]</td>
  </tr>
  <tr>
    <td>chartype &quot;letter&quot;</td>
    <td>\[*y]\[*h]\[*i]\[*k]\[*l]\[*m]</td>
  </tr>
  <tr>
    <td>chartype &quot;letter&quot;</td>
    <td>\[*n]\[*c]\[*o]\[*p]\[*r]\[*s]</td>
  </tr>
  <tr>
    <td>chartype &quot;letter&quot;</td>
    <td>\[*t]\[*u]\[*f]\[*x]\[*q]\[*w]</td>
  </tr>
  <tr>
    <td>chartype &quot;binary&quot;</td>
    <td>*\[pl]\[mi]</td>
  </tr>
  <tr>
    <td>chartype &quot;relation&quot;</td>
    <td>&lt;&gt;\[eq]\[&lt;=]\[&gt;=]</td>
  </tr>
  <tr>
    <td>chartype &quot;opening&quot;</td>
    <td>{([</td>
  </tr>
  <tr>
    <td>chartype &quot;closing&quot;</td>
    <td>})]</td>
  </tr>
  <tr>
    <td>chartype &quot;punctuation&quot;</td>
    <td>,;:.</td>
  </tr>
  <tr>
    <td>chartype &quot;suppress&quot;</td>
    <td>^~</td>
  </tr>
</table>
</div>
<p class="Pp"><i>eqn</i> assigns all other ordinary and special <i>roff</i>
    characters, including numerals 0&#x2013;9, the
    &#x201C;<b>ordinary</b>&#x201D; type. (The &#x201C;<b>digit</b>&#x201D; type
    is not used, but is available for customization.) In keeping with common
    practice in mathematical typesetting, lowercase, but not uppercase, Greek
    letters are assigned the &#x201C;<b>letter</b>&#x201D; type to style them in
    italics. The macros for producing ellipses, &#x201C;<b>...</b>&#x201D;,
    <b>cdots</b>, and <b>ldots</b>, use the &#x201C;<b>inner</b>&#x201D;
  type.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Primitives"><a class="permalink" href="#Primitives">Primitives</a></h2>
<p class="Pp"><i>eqn</i> supports without alteration the AT&amp;T <i>eqn</i>
    primitives <b>above</b>, <b>back</b>, <b>bar</b>, <b>bold</b>,
    <b>define</b>, <b>down</b>, <b>fat</b>, <b>font</b>, <b>from</b>,
    <b>fwd</b>, <b>gfont</b>, <b>gsize</b>, <b>italic</b>, <b>left</b>,
    <b>lineup</b>, <b>mark</b>, <b>matrix</b>, <b>ndefine</b>, <b>over</b>,
    <b>right</b>, <b>roman</b>, <b>size</b>, <b>sqrt</b>, <b>sub</b>,
    <b>sup</b>, <b>tdefine</b>, <b>to</b>, <b>under</b>, and <b>up</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_primitives"><a class="permalink" href="#New_primitives">New
  primitives</a></h2>
<p class="Pp">The GNU extension primitives &#x201C;<b>type</b>&#x201D; and
    <b>chartype</b> are discussed in subsection &#x201C;Spacing and
    typeface&#x201D; above; &#x201C;<b>set</b>&#x201D; in subsection
    &#x201C;Customization&#x201D; below; and <b>grfont</b> and <b>gbfont</b> in
    subsection &#x201C;Fonts&#x201D; below. In the following synopses, <i>X</i>
    can be any character not appearing in the parameter thus bracketed.</p>
<dl class="Bl-tag">
  <dt id="e1"><a class="permalink" href="#e1"><i>e1</i><b>&#x00A0;accent&#x00A0;</b><i>e2</i></a></dt>
  <dd>Set <i>e2</i> as an accent over <i>e1</i>. <i>e2</i> is assumed to be at
      the appropriate height for a lowercase letter without an ascender; <i>
      eqn</i> vertically shifts it depending on <i>e1</i>'s height. For example,
      <b>hat</b> is defined as follows.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>accent { &quot;^&quot; }
    </pre>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd><b>dotdot</b>, <b>dot</b>, <b>tilde</b>, <b>vec</b>, and <b>dyad</b> are
      also defined using the <b>accent</b> primitive.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="big"><a class="permalink" href="#big"><b>big&#x00A0;</b><i>e</i></a></dt>
  <dd>Enlarge the expression <i>e</i>; semantics like those of CSS
      &#x201C;large&#x201D; are intended. In <i>troff</i> output, the type size
      is increased by&#x00A0;5 scaled points. MathML output emits the
    following.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>&lt;mstyle mathsize='big'&gt;
    </pre>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="copy"><a class="permalink" href="#copy"><b>copy&#x00A0;</b><i>file</i></a></dt>
  <dd></dd>
  <dt id="include"><a class="permalink" href="#include"><b>include&#x00A0;</b><i>file</i></a></dt>
  <dd>Interpolate the contents of <i>file</i>, omitting lines beginning with
      <b>.EQ</b> or <b>.EN</b>. If a relative path name, <i>file</i> is sought
      relative to the current working directory.</dd>
  <dt id="ifdef"><a class="permalink" href="#ifdef"><b>ifdef&#x00A0;</b><i>name
    X anything X</i></a></dt>
  <dd>If <i>name</i> is defined as a primitive or macro, interpret
      <i>anything</i>.</dd>
  <dt id="nosplit"><a class="permalink" href="#nosplit"><b>nosplit&#x00A0;</b><i>text</i></a></dt>
  <dd>As &quot;<i>text</i>&quot;, but since <i>text</i> is not quoted it is
      subject to macro expansion; it is not split up and the spacing between
      characters not adjusted per subsection &#x201C;Spacing and
      typeface&#x201D; above.</dd>
  <dt id="e"><a class="permalink" href="#e"><i>e&#x00A0;</i><b>opprime</b></a></dt>
  <dd>As <b>prime</b>, but set the prime symbol as an operator
      on&#x00A0;<i>e</i>. In the input &#x201C;<b>A opprime sub 1</b>&#x201D;,
      the&#x00A0;&#x201C;1&#x201D; is tucked under the prime as a subscript to
      the&#x00A0;&#x201C;A&#x201D; (as is conventional in mathematical
      typesetting), whereas when <b>prime</b> is used,
      the&#x00A0;&#x201C;1&#x201D; is a subscript to the prime character. The
      precedence of <b>opprime</b> is the same as that of <b>bar</b> and
      &#x201C;<b>under</b>&#x201D;, and higher than that of other primitives
      except <b>accent</b> and <b>uaccent</b>. In unquoted text, a neutral
      apostrophe (<b>'</b>) that is not the first character on the input line is
      treated like <b>opprime</b>.</dd>
  <dt id="sdefine"><a class="permalink" href="#sdefine"><b>sdefine&#x00A0;</b><i>name
    X anything X</i></a></dt>
  <dd>As &#x201C;<b>define</b>&#x201D;, but <i>name</i> is not recognized as a
      macro if called with arguments.</dd>
  <dt id="e1~2"><a class="permalink" href="#e1~2"><i>e1</i><b>&#x00A0;smallover&#x00A0;</b><i>e2</i></a></dt>
  <dd>As <b>over</b>, but reduces the type size of <i>e1</i> and <i>e2</i>, and
      puts less vertical space between <i>e1</i> and <i>e2</i> and the fraction
      bar. The <b>over</b> primitive corresponds to the TeX <b>\over</b>
      primitive in displayed equation styles; <b>smallover</b> corresponds to
      <b>\over</b> in non-display (&#x201C;inline&#x201D;) styles.
    <br/>
  </dd>
  <dt id="space"><a class="permalink" href="#space"><b>space&#x00A0;</b><i>n</i></a></dt>
  <dd>Set extra vertical spacing around the equation, replacing the default
      values, where <i>n</i>&#x00A0;is an integer in hundredths of an em. If
      positive, <i>n</i>&#x00A0;increases vertical spacing before the equation;
      if negative, it does so after the equation. This primitive provides an
      interface to <i>groff</i>'s <b>\x</b> escape sequence, but with the
      opposite sign convention. It has no effect if the equation is part of a
      <i>pic</i>(1) picture.</dd>
  <dt id="special"><a class="permalink" href="#special"><b>special&#x00A0;</b><i>troff-macro
    e</i></a></dt>
  <dd>Construct an object by calling <i>troff-macro</i> on&#x00A0;<i>e</i>. The
      <i>troff</i> string <b>0s</b> contains the <i>eqn</i> output
      for&#x00A0;<i>e</i>, and the registers <b>0w</b>, <b>0h</b>, <b>0d</b>,
      <b>0skern</b>, and <b>0skew</b> the width, height, depth, subscript kern,
      and skew of&#x00A0;<i>e</i>, respectively. (The <i>subscript kern</i> of
      an object indicates how much a subscript on that object should be
      &#x201C;tucked in&#x201D;, or placed to the left relative to a
      non-subscripted glyph of the same size. The <i>skew</i> of an object is
      how far to the right of the center of the object an accent over it should
      be placed.) The macro must modify <b>0s</b> so that it outputs the desired
      result, returns the drawing position to the text baseline at the beginning
      of <i>e</i>, and updates the foregoing registers to correspond to the new
      dimensions of the result.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Suppose you want a construct that &#x201C;cancels&#x201D; an expression by
      drawing a diagonal line through it.
    <br/>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>.de Ca
.  ds 0s \
\Z'\\*(0s'\
\v'\\n(0du'\
\D'l \\n(0wu -\\n(0hu-\\n(0du'\
\v'\\n(0hu'
..
.EQ
special Ca &quot;x \[mi] 3 \[pl] x&quot; ~ 3
.EN
    </pre>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>We use the <b>\[mi]</b> and <b>\[pl]</b> special characters instead of +
      and - because they are part of the argument to a <i>troff</i> macro, so
      <i>eqn</i> does not transform them to mathematical glyphs for us. Here's a
      more complicated construct that draws a box around an expression; the
      bottom of the box rests on the text baseline. We define the <i>eqn</i>
      macro <b>box</b> to wrap the call of the <i>troff</i> macro <b>Bx</b>.
    <br/>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>.de Bx
.ds 0s \
\Z'\\h'1n'\\*[0s]'\
\v'\\n(0du+1n'\
\D'l \\n(0wu+2n 0'\
\D'l 0 -\\n(0hu-\\n(0du-2n'\
\D'l -\\n(0wu-2n 0'\
\D'l 0 \\n(0hu+\\n(0du+2n'\
\h'\\n(0wu+2n'
.nr 0w +2n
.nr 0d +1n
.nr 0h +1n
..
.EQ
define box ' special Bx $1 '
box(foo) ~ &quot;bar&quot;
.EN
    </pre>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="split"><a class="permalink" href="#split"><b>split
    &quot;</b><i>text</i><b>&quot;</b></a></dt>
  <dd>As <i>text</i>, but since <i>text</i> is quoted, it is not subject to
      macro expansion; it is split up and the spacing between characters
      adjusted per subsection &#x201C;Spacing and typeface&#x201D; above.</dd>
  <dt id="e1~3"><a class="permalink" href="#e1~3"><i>e1</i><b>&#x00A0;uaccent&#x00A0;</b><i>e2</i></a></dt>
  <dd>Set <i>e2</i> as an accent under <i>e1</i>. <i>e2</i> is assumed to be at
      the appropriate height for a letter without a descender; <i> eqn</i>
      vertically shifts it depending on whether <i>e1</i> has a descender.
      <b>utilde</b> is predefined using <b>uaccent</b> as a tilde accent below
      the baseline.</dd>
  <dt id="undef"><a class="permalink" href="#undef"><b>undef&#x00A0;</b><i>name</i></a></dt>
  <dd>Remove definition of macro or primitive <i>name</i>, making it
    undefined.</dd>
  <dt id="vcenter"><a class="permalink" href="#vcenter"><b>vcenter&#x00A0;</b><i>e</i></a></dt>
  <dd>Vertically center <i>e</i> about the <i>math axis</i>, a horizontal line
      upon which fraction bars and characters such as &#x201C;+&#x201D; and
      &#x201C;&#x2212;&#x201D; are aligned. MathML already behaves this way, so
      <i>eqn</i> ignores this primitive when producing that output format. The
      built-in <b>sum</b> macro is defined as if by the following.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>define sum ! { type &quot;operator&quot; vcenter size +5 \(*S } !
    </pre>
  </dd>
</dl>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Extended_primitives"><a class="permalink" href="#Extended_primitives">Extended
  primitives</a></h2>
<p class="Pp">GNU <i>eqn</i> extends the syntax of some AT&amp;T <i>eqn</i>
    primitives, introducing one deliberate incompatibility.</p>
<dl class="Bl-tag">
  <dt id="delim"><a class="permalink" href="#delim"><b>delim on</b></a></dt>
  <dd><i>eqn</i> recognizes an &#x201C;<b>on</b>&#x201D; argument to the
      <b>delim</b> primitive specially, restoring any delimiters previously
      disabled with &#x201C;<b>delim off</b>&#x201D;. If delimiters haven't been
      specified, neither command has effect. Few <i>eqn</i> documents are
      expected to use &#x201C;o&#x201D; and &#x201C;n&#x201D; as left and right
      delimiters, respectively. If yours does, consider swapping them, or select
      others.</dd>
  <dt id="col"><a class="permalink" href="#col"><b>col&#x00A0;</b><i>n&#x00A0;</i><b>{&#x00A0;</b>...<b>&#x00A0;}</b></a></dt>
  <dd></dd>
  <dt id="ccol"><a class="permalink" href="#ccol"><b>ccol&#x00A0;</b><i>n&#x00A0;</i><b>{&#x00A0;</b>...<b>&#x00A0;}</b></a></dt>
  <dd></dd>
  <dt id="lcol"><a class="permalink" href="#lcol"><b>lcol&#x00A0;</b><i>n&#x00A0;</i><b>{&#x00A0;</b>...<b>&#x00A0;}</b></a></dt>
  <dd></dd>
  <dt id="rcol"><a class="permalink" href="#rcol"><b>rcol&#x00A0;</b><i>n&#x00A0;</i><b>{&#x00A0;</b>...<b>&#x00A0;}</b></a></dt>
  <dd></dd>
  <dt id="pile"><a class="permalink" href="#pile"><b>pile&#x00A0;</b><i>n&#x00A0;</i><b>{&#x00A0;</b>...<b>&#x00A0;}</b></a></dt>
  <dd></dd>
  <dt id="cpile"><a class="permalink" href="#cpile"><b>cpile&#x00A0;</b><i>n&#x00A0;</i><b>{&#x00A0;</b>...<b>&#x00A0;}</b></a></dt>
  <dd></dd>
  <dt id="lpile"><a class="permalink" href="#lpile"><b>lpile&#x00A0;</b><i>n&#x00A0;</i><b>{&#x00A0;</b>...<b>&#x00A0;}</b></a></dt>
  <dd></dd>
  <dt id="rpile"><a class="permalink" href="#rpile"><b>rpile&#x00A0;</b><i>n&#x00A0;</i><b>{&#x00A0;</b>...<b>&#x00A0;}</b></a></dt>
  <dd>The integer value&#x00A0;<i>n</i> (in hundredths of an em) increases the
      vertical spacing between rows, using <i>groff</i>'s <b>\x</b> escape
      sequence (the value has no effect in MathML mode). Negative values are
      accepted but have no effect. If more than one <i>n</i> occurs in a matrix
      or pile, the largest is used.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Customization"><a class="permalink" href="#Customization">Customization</a></h2>
<p class="Pp">When <i>eqn</i> generates <i>troff</i> input, the appearance of
    equations is controlled by a large number of parameters. They have no effect
    when generating MathML, which delegates typesetting to a MathML rendering
    engine. Configure these parameters with the <b>set</b> primitive.</p>
<dl class="Bl-tag">
  <dt id="set"><a class="permalink" href="#set"><b>set&#x00A0;</b><i>p
    n</i></a></dt>
  <dd>assigns parameter&#x00A0;<i>p</i> the integer value&#x00A0;<i>n</i>;
      <i>n</i>&#x00A0;is interpreted in units of hundredths of an em unless
      otherwise stated. For example,</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>set x_height 45
    </pre>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>says that <i>eqn</i> should assume that the font's x-height is
      0.45&#x00A0;ems.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Available parameters are as follows; defaults are shown in
    parentheses. We intend these descriptions to be expository rather than
    rigorous.</p>
<dl class="Bl-tag">
  <dt id="minimum_size"><a class="permalink" href="#minimum_size"><b>minimum_size</b></a></dt>
  <dd>sets a floor for the type size (in scaled points) at which equations are
      set (<b>5</b>).</dd>
  <dt id="fat_offset"><a class="permalink" href="#fat_offset"><b>fat_offset</b></a></dt>
  <dd>The <b>fat</b> primitive emboldens an equation by overprinting two copies
      of the equation horizontally offset by this amount (<b>4</b>). In MathML
      mode, components to which <b>fat_offset</b> applies instead use the
      following.</dd>
</dl>
<div class="Bd-indent">
<div class="Bd-indent">
<pre>&lt;mstyle mathvariant='double-struck'&gt;
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt id="over_hang"><a class="permalink" href="#over_hang"><b>over_hang</b></a></dt>
  <dd>A fraction bar is longer by twice this amount than the maximum of the
      widths of the numerator and denominator; in other words, it overhangs the
      numerator and denominator by at least this amount (<b>0</b>).</dd>
  <dt id="accent_width"><a class="permalink" href="#accent_width"><b>accent_width</b></a></dt>
  <dd>When <b>bar</b> or <b>under</b> is applied to a single character, the line
      is this long (<b>31</b>). Normally, <b>bar</b> or <b>under</b> produces a
      line whose length is the width of the object to which it applies; in the
      case of a single character, this tends to produce a line that looks too
      long.</dd>
  <dt id="delimiter_factor"><a class="permalink" href="#delimiter_factor"><b>delimiter_factor</b></a></dt>
  <dd>Extensible delimiters produced with the <b>left</b> and <b>right</b>
      primitives have a combined height and depth of at least this many
      thousandths of twice the maximum amount by which the sub-equation that the
      delimiters enclose extends away from the axis (<b>900</b>).</dd>
  <dt id="delimiter_shortfall"><a class="permalink" href="#delimiter_shortfall"><b>delimiter_shortfall</b></a></dt>
  <dd>Extensible delimiters produced with the <b>left</b> and <b>right</b>
      primitives have a combined height and depth not less than the difference
      of twice the maximum amount by which the sub-equation that the delimiters
      enclose extends away from the axis and this amount (<b>50</b>).</dd>
  <dt id="null_delimiter_space"><a class="permalink" href="#null_delimiter_space"><b>null_delimiter_space</b></a></dt>
  <dd>This much horizontal space is inserted on each side of a fraction
      (<b>12</b>).</dd>
  <dt id="script_space"><a class="permalink" href="#script_space"><b>script_space</b></a></dt>
  <dd>The width of subscripts and superscripts is increased by this amount
      (<b>5</b>).</dd>
  <dt id="thin_space"><a class="permalink" href="#thin_space"><b>thin_space</b></a></dt>
  <dd>This amount of space is automatically inserted after punctuation
      characters. It also configures the width of the space produced by the
      <b>^</b> token (<b>17</b>).</dd>
  <dt id="medium_space"><a class="permalink" href="#medium_space"><b>medium_space</b></a></dt>
  <dd>This amount of space is automatically inserted on either side of binary
      operators (<b>22</b>).</dd>
  <dt id="thick_space"><a class="permalink" href="#thick_space"><b>thick_space</b></a></dt>
  <dd>This amount of space is automatically inserted on either side of
      relations. It also configures the width of the space produced by the
      <b>~</b> token (<b>28</b>).</dd>
  <dt id="x_height"><a class="permalink" href="#x_height"><b>x_height</b></a></dt>
  <dd>The height of lowercase letters without ascenders such as
      &#x201C;x&#x201D; (<b>45</b>).</dd>
  <dt id="axis_height"><a class="permalink" href="#axis_height"><b>axis_height</b></a></dt>
  <dd>The height above the baseline of the center of characters such as
      &#x201C;+&#x201D; and &#x201C;&#x2212;&#x201D; (<b>26</b>). It is
      important that this value is correct for the font you are using.</dd>
  <dt id="default_rule_thickness"><a class="permalink" href="#default_rule_thickness"><b>default_rule_thickness</b></a></dt>
  <dd>This should be set to the thickness of the <b>\[ru]</b> character, or the
      thickness of horizontal lines produced with the <b>\D</b> escape sequence
      (<b>4</b>).</dd>
  <dt id="num1"><a class="permalink" href="#num1"><b>num1</b></a></dt>
  <dd>The <b>over</b> primitive shifts up the numerator by at least this amount
      (<b>70</b>).</dd>
  <dt id="num2"><a class="permalink" href="#num2"><b>num2</b></a></dt>
  <dd>The <b>smallover</b> primitive shifts up the numerator by at least this
      amount (<b>36</b>).</dd>
  <dt id="denom1"><a class="permalink" href="#denom1"><b>denom1</b></a></dt>
  <dd>The <b>over</b> primitive shifts down the denominator by at least this
      amount (<b>70</b>).</dd>
  <dt id="denom2"><a class="permalink" href="#denom2"><b>denom2</b></a></dt>
  <dd>The <b>smallover</b> primitive shifts down the denominator by at least
      this amount (<b>36</b>).</dd>
  <dt id="sup1"><a class="permalink" href="#sup1"><b>sup1</b></a></dt>
  <dd>Normally superscripts are shifted up by at least this amount
    (<b>42</b>).</dd>
  <dt id="sup2"><a class="permalink" href="#sup2"><b>sup2</b></a></dt>
  <dd>Superscripts within superscripts or upper limits or numerators of
      <b>smallover</b> fractions are shifted up by at least this amount
      (<b>37</b>). Conventionally, this is less than <b>sup1</b>.</dd>
  <dt id="sup3"><a class="permalink" href="#sup3"><b>sup3</b></a></dt>
  <dd>Superscripts within denominators or square roots or subscripts or lower
      limits are shifted up by at least this amount (<b>28</b>). Conventionally,
      this is less than <b>sup2</b>.</dd>
  <dt id="sub1"><a class="permalink" href="#sub1"><b>sub1</b></a></dt>
  <dd>Subscripts are normally shifted down by at least this amount
    (<b>20</b>).</dd>
  <dt id="sub2"><a class="permalink" href="#sub2"><b>sub2</b></a></dt>
  <dd>When there is both a subscript and a superscript, the subscript is shifted
      down by at least this amount (<b>23</b>).</dd>
  <dt id="sup_drop"><a class="permalink" href="#sup_drop"><b>sup_drop</b></a></dt>
  <dd>The baseline of a superscript is no more than this much below the top of
      the object on which the superscript is set (<b>38</b>).</dd>
  <dt id="sub_drop"><a class="permalink" href="#sub_drop"><b>sub_drop</b></a></dt>
  <dd>The baseline of a subscript is at least this much below the bottom of the
      object on which the subscript is set (<b>5</b>).</dd>
  <dt id="big_op_spacing1"><a class="permalink" href="#big_op_spacing1"><b>big_op_spacing1</b></a></dt>
  <dd>The baseline of an upper limit is at least this much above the top of the
      object on which the limit is set (<b>11</b>).</dd>
  <dt id="big_op_spacing2"><a class="permalink" href="#big_op_spacing2"><b>big_op_spacing2</b></a></dt>
  <dd>The baseline of a lower limit is at least this much below the bottom of
      the object on which the limit is set (<b>17</b>).</dd>
  <dt id="big_op_spacing3"><a class="permalink" href="#big_op_spacing3"><b>big_op_spacing3</b></a></dt>
  <dd>The bottom of an upper limit is at least this much above the top of the
      object on which the limit is set (<b>20</b>).</dd>
  <dt id="big_op_spacing4"><a class="permalink" href="#big_op_spacing4"><b>big_op_spacing4</b></a></dt>
  <dd>The top of a lower limit is at least this much below the bottom of the
      object on which the limit is set (<b>60</b>).</dd>
  <dt id="big_op_spacing5"><a class="permalink" href="#big_op_spacing5"><b>big_op_spacing5</b></a></dt>
  <dd>This much vertical space is added above and below limits (<b>10</b>).</dd>
  <dt id="baseline_sep"><a class="permalink" href="#baseline_sep"><b>baseline_sep</b></a></dt>
  <dd>The baselines of the rows in a pile or matrix are normally this far apart
      (<b>140</b>). Usually equal to the sum of <b>num1</b> and
    <b>denom1</b>.</dd>
  <dt id="shift_down"><a class="permalink" href="#shift_down"><b>shift_down</b></a></dt>
  <dd>The midpoint between the top baseline and the bottom baseline in a matrix
      or pile is shifted down by this much from the axis (<b>26</b>). Usually
      equal to <b>axis_height</b>.</dd>
  <dt id="column_sep"><a class="permalink" href="#column_sep"><b>column_sep</b></a></dt>
  <dd>This much space is added between columns in a matrix (<b>100</b>).</dd>
  <dt id="matrix_side_sep"><a class="permalink" href="#matrix_side_sep"><b>matrix_side_sep</b></a></dt>
  <dd>This much space is added at each side of a matrix (<b>17</b>).
    <br/>
  </dd>
  <dt id="draw_lines"><a class="permalink" href="#draw_lines"><b>draw_lines</b></a></dt>
  <dd>If non-zero, <i>eqn</i> draws lines using the <i>troff</i> <b>\D</b>
      escape sequence, rather than the <b>\l</b> escape sequence and the
      <b>\[ru]</b> special character. The <i>eqnrc</i> file sets the default:
      <b>1</b>&#x00A0;on <b>ps</b>, <b>html</b>, and the X11 devices,
      otherwise&#x00A0;<b>0</b>.</dd>
  <dt id="body_height"><a class="permalink" href="#body_height"><b>body_height</b></a></dt>
  <dd>is the presumed height of an equation above the text baseline; <i>eqn</i>
      adds any excess as extra pre-vertical line spacing with <i>troff</i>'s
      <b>\x</b> escape sequence (<b>85</b>).</dd>
  <dt id="body_depth"><a class="permalink" href="#body_depth"><b>body_depth</b></a></dt>
  <dd>is the presumed depth of an equation below the text baseline; <i>eqn</i>
      adds any excess as extra post-vertical line spacing with <i>troff</i>'s
      <b>\x</b> escape sequence (<b>35</b>).</dd>
  <dt id="nroff"><a class="permalink" href="#nroff"><b>nroff</b></a></dt>
  <dd>If non-zero, then <b>ndefine</b> behaves like <b>define</b> and
      <b>tdefine</b> is ignored, otherwise <b>tdefine</b> behaves like
      <b>define</b> and <b>ndefine</b> is ignored. The <i>eqnrc</i> file sets
      the default: <b>1</b>&#x00A0;on <b>ascii</b>, <b>latin1</b>, <b>utf8</b>,
      and <b>cp1047</b> devices, otherwise&#x00A0;<b>0</b>.</dd>
</dl>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Macros"><a class="permalink" href="#Macros">Macros</a></h2>
<p class="Pp">In GNU <i>eqn</i>, macros can take arguments. A word defined by
    any of the <b>define</b>, <b>ndefine</b>, or <b>tdefine</b> primitives
    followed immediately by a left parenthesis is treated as a <i>parameterized
    macro call:</i> subsequent tokens up to a matching right parenthesis are
    treated as comma-separated arguments. In this context only, commas and
    parentheses also serve as token separators. A macro argument is not
    terminated by a comma inside parentheses nested within it. In a macro
    definition, <b>$</b><i>n</i>, where <i>n</i> is between 1 and&#x00A0;9
    inclusive, is replaced by the <i>n</i>th argument; if there are fewer than
    <i>n</i>&#x00A0;arguments, it is replaced by nothing.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Predefined_macros"><a class="permalink" href="#Predefined_macros">Predefined
  macros</a></h2>
<p class="Pp">GNU <i>eqn</i> supports the predefined macros offered by AT&amp;T
    <i>eqn</i>: <b>and</b>, <b>approx</b>, <b>arc</b>, <b>cos</b>, <b>cosh</b>,
    <b>del</b>, <b>det</b>, <b>dot</b>, <b>dotdot</b>, <b>dyad</b>, <b>exp</b>,
    <b>for</b>, <b>grad</b>, <b>half</b>, <b>hat</b>, <b>if</b>, <b>inter</b>,
    <b>Im</b>, <b>inf</b>, <b>int</b>, <b>lim</b>, <b>ln</b>, <b>log</b>,
    <b>max</b>, <b>min</b>, <b>nothing</b>, <b>partial</b>, <b>prime</b>,
    <b>prod</b>, <b>Re</b>, <b>sin</b>, <b>sinh</b>, <b>sum</b>, <b>tan</b>,
    <b>tanh</b>, <b>tilde</b>, <b>times</b>, <b>union</b>, <b>vec</b>,
    <b>==</b>, <b>!=</b>, <b>+=</b>, <b>-&gt;</b>, <b>&lt;-</b>,
    <b>&lt;&lt;</b>, <b>&gt;&gt;</b>, and &#x201C;<b>...</b>&#x201D;. The
    lowercase classical Greek letters are available as <b>alpha</b>,
    <b>beta</b>, <b>chi</b>, <b>delta</b>, <b>epsilon</b>, <b>eta</b>,
    <b>gamma</b>, <b>iota</b>, <b>kappa</b>, <b>lambda</b>, <b>mu</b>,
    <b>nu</b>, <b>omega</b>, <b>omicron</b>, <b>phi</b>, <b>pi</b>, <b>psi</b>,
    <b>rho</b>, <b>sigma</b>, <b>tau</b>, <b>theta</b>, <b>upsilon</b>,
    <b>xi</b>, and <b>zeta</b>. Spell them with an initial capital letter
    (<b>Alpha</b>) or in full capitals (<b>ALPHA</b>) to obtain uppercase
  forms.</p>
<p class="Pp">GNU <i>eqn</i> further defines the macros <b>cdot</b>,
    <b>cdots</b>, and <b>utilde</b> (all discussed above), <b>dollar</b>, which
    sets a dollar sign, and <b>ldots</b>, which sets an ellipsis on the text
    baseline.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Fonts"><a class="permalink" href="#Fonts">Fonts</a></h2>
<p class="Pp"><i>eqn</i> uses up to three typefaces to set an equation: italic
    (oblique), roman (upright), and bold. Assign each a <i>groff</i> typeface
    with the primitives <b>gfont</b>, <b>grfont</b>, and <b>gbfont.</b> The
    defaults are the styles <b>I</b>, <b>R</b>, and <b>B</b> (applied to the
    current font family). The <b>chartype</b> primitive (see above) sets a
    character's type, which determines the face used to set it. The
    &#x201C;<b>letter</b>&#x201D; type is set in italics; others are set in
    roman. Use the <b>bold</b> primitive to select an (upright) bold style.</p>
<dl class="Bl-tag">
  <dt id="gbfont"><a class="permalink" href="#gbfont"><b>gbfont&#x00A0;</b><i>f</i></a></dt>
  <dd>Select&#x00A0;<i>f</i> as the bold font. This is a GNU extension.</dd>
  <dt id="gfont"><a class="permalink" href="#gfont"><b>gfont&#x00A0;</b><i>f</i></a></dt>
  <dd>Select&#x00A0;<i>f</i> as the italic font.</dd>
  <dt id="grfont"><a class="permalink" href="#grfont"><b>grfont&#x00A0;</b><i>f</i></a></dt>
  <dd>Select&#x00A0;<i>f</i> as the roman font. This is a GNU extension.
    <br/>
  </dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Options"><a class="permalink" href="#Options">Options</a></h1>
<p class="Pp"><b>--help</b> displays a usage message, while <b>-v</b> and
    <b>--version</b> show version information; all exit afterward.</p>
<dl class="Bl-tag">
  <dt id="C"><a class="permalink" href="#C"><b>-C</b></a></dt>
  <dd>Recognize <b>.EQ</b> and <b>.EN</b> even when followed by a character
      other than space or newline.</dd>
  <dt id="d"><a class="permalink" href="#d"><b>-d&#x00A0;</b><i>xy</i></a></dt>
  <dd>Specify delimiters <i>x</i> for left and&#x00A0;<i>y</i> for right ends of
      equations not bracketed by <b>.EQ</b>/<b>.EN</b>. <i>x</i> and <i>y</i>
      need not be distinct. Any &#x201C;<b>delim</b> <i>xy</i>&#x201D;
      statements in the source file override this option.</dd>
  <dt id="f"><a class="permalink" href="#f"><b>-f&#x00A0;</b><i>F</i></a></dt>
  <dd>is equivalent to &#x201C;<b>gfont</b> <i>F</i>&#x201D;.</dd>
  <dt id="m"><a class="permalink" href="#m"><b>-m&#x00A0;</b><i>n</i></a></dt>
  <dd>is equivalent to &#x201C;<b>set minimum_size</b> <i>n</i>&#x201D;.</dd>
  <dt id="M"><a class="permalink" href="#M"><b>-M&#x00A0;</b><i>dir</i></a></dt>
  <dd>Search <i>dir</i> for <i>eqnrc</i> before those listed in section
      &#x201C;Description&#x201D; above.</dd>
  <dt id="N"><a class="permalink" href="#N"><b>-N</b></a></dt>
  <dd>Prohibit newlines within delimiters. This option allows <i>eqn</i> to
      recover better from missing closing delimiters.</dd>
  <dt id="p"><a class="permalink" href="#p"><b>-p&#x00A0;</b><i>n</i></a></dt>
  <dd>Set sub- and superscripts <i>n</i>&#x00A0;points smaller than the
      surrounding text. This option is deprecated. <i>eqn</i> normally sets sub-
      and superscripts at 70% of the type size of the surrounding text.</dd>
  <dt id="r"><a class="permalink" href="#r"><b>-r</b></a></dt>
  <dd>Reduce the type size of subscripts at most once relative to the base type
      size for the equation.</dd>
  <dt id="R"><a class="permalink" href="#R"><b>-R</b></a></dt>
  <dd>Don't load <i>eqnrc</i>.</dd>
  <dt id="s"><a class="permalink" href="#s"><b>-s&#x00A0;</b><i>n</i></a></dt>
  <dd>is equivalent to &#x201C;<b>gsize</b> <i>n</i>&#x201D;. This option is
      deprecated.</dd>
  <dt id="T"><a class="permalink" href="#T"><b>-T&#x00A0;</b><i>dev</i></a></dt>
  <dd>Prepare output for the device <i>dev</i>. In most cases, the effect of
      this is to define a macro <i>dev</i> with a value of&#x00A0;<b>1</b>;
      <i>eqnrc</i> uses this to provide definitions appropriate for the device.
      However, if the specified driver is &#x201C;MathML&#x201D;, the output is
      MathML markup rather than <i>troff</i> input, and <i>eqnrc</i> is not
      loaded at all. The default output device is <b>ps</b>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Files"><a class="permalink" href="#Files">Files</a></h1>
<dl class="Bl-tag">
  <dt><i>/usr/share/groff/1.23.0/tmac/eqnrc</i></dt>
  <dd>Initialization file.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="MathML_mode_limitations"><a class="permalink" href="#MathML_mode_limitations">MathML
  mode limitations</a></h1>
<p class="Pp">MathML is designed on the assumption that it cannot know the exact
    physical characteristics of the media and devices on which it will be
    rendered. It does not support control of motions and sizes to the same
    degree <i>troff</i> does.</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><i>eqn</i> customization parameters have no effect on generated
    MathML.</dd>
  <dt>&#x2022;</dt>
  <dd>The <b>special</b>, <b>up</b>, <b>down</b>, <b>fwd</b>, and <b>back</b>
      primitives cannot be implemented, and yield a MathML
      &#x201C;&lt;merror&gt;&#x201D; message instead.</dd>
  <dt>&#x2022;</dt>
  <dd>The <b>vcenter</b> primitive is silently ignored, as centering on the math
      axis is the MathML default.</dd>
  <dt>&#x2022;</dt>
  <dd>Characters that <i>eqn</i> sets extra large in <i>troff</i>
      mode&#x2014;notably the integral sign&#x2014;may appear too small and need
      to have their &#x201C;&lt;mstyle&gt;&#x201D; wrappers adjusted by
    hand.</dd>
</dl>
<p class="Pp">As in its <i>troff</i> mode, <i>eqn</i> in MathML mode leaves the
    <b>.EQ</b> and <b>.EN</b> tokens in place, but emits nothing corresponding
    to <b>delim</b> delimiters. They can, however, be recognized as character
    sequences that begin with &#x201C;&lt;math&gt;&#x201D;, end with
    &#x201C;&lt;/math&gt;&#x201D;, and do not cross line boundaries.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Caveats"><a class="permalink" href="#Caveats">Caveats</a></h1>
<p class="Pp">Tokens must be double-quoted in <i>eqn</i> input if they are not
    to be recognized as names of macros or primitives, or if they are to be
    interpreted by <i>troff</i>. In particular, short ones, like
    &#x201C;<b>pi</b>&#x201D; and &#x201C;<b>PI</b>&#x201D;, can collide with
    <i>troff</i> identifiers. For instance, the <i>eqn</i> command
    &#x201C;<b>gfont PI</b>&#x201D; does not select <i>groff</i>'s Palatino
    italic font for the global italic face; you must use &#x201C;<b>gfont
    &quot;PI&quot;</b>&#x201D; instead.</p>
<p class="Pp">Delimited equations are set at the type size current at the
    beginning of the input line, not necessarily that immediately preceding the
    opening delimiter.</p>
<p class="Pp">Unlike TeX, <i>eqn</i> does not inherently distinguish displayed
    and inline equation styles; see the <b>smallover</b> primitive above.
    However, macro packages frequently define <b>EQ</b> and <b>EN</b> macros
    such that the equation within is displayed. These macros may accept
    arguments permitting the equation to be labeled or captioned; see the
    package's documentation.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Bugs"><a class="permalink" href="#Bugs">Bugs</a></h1>
<p class="Pp"><i>eqn</i> abuses terminology&#x2014;its &#x201C;equations&#x201D;
    can be inequalities, bare expressions, or unintelligible gibberish. But
    there's no changing it now.</p>
<p class="Pp">In <i>nroff</i> mode, lowercase Greek letters are rendered in
    roman instead of italic style.</p>
<p class="Pp">In MathML mode, the <b>mark</b> and <b>lineup</b> features don't
    work. These could, in theory, be implemented with
    &#x201C;&lt;maligngroup&gt;&#x201D; elements.</p>
<p class="Pp">In MathML mode, each digit of a numeric literal gets a separate
    &#x201C;&lt;mn&gt;&lt;/mn&gt;&#x201D; pair, and decimal points are tagged
    with &#x201C;&lt;mo&gt;&lt;/mo&gt;&#x201D;. This is allowed by the
    specification, but inefficient.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Examples"><a class="permalink" href="#Examples">Examples</a></h1>
<p class="Pp">We first illustrate <i>eqn</i> usage with a trigonometric
    identity.</p>
<div class="Bd-indent">
<p class="Pp"></p>
<pre>.EQ
sin ( alpha + beta ) = sin alpha cos beta + cos alpha sin beta
.EN
</pre>
</div>
<p class="Pp">It can be convenient to set up delimiters if mathematical content
    will appear frequently in running text.</p>
<div class="Bd-indent">
<p class="Pp"></p>
<pre>.EQ
delim $$
.EN
Having cached a table of logarithms,
the property $ln ( x y ) = ln x + ln y$ sped calculations.
</pre>
</div>
<p class="Pp">The quadratic formula illustrates use of fractions and radicals,
    and affords an opportunity to use the full space token <b>~</b>.</p>
<div class="Bd-indent">
<p class="Pp"></p>
<pre>.EQ
x = { - b ~ \[+-] ~ sqrt { b sup 2 - 4 a c } } over { 2 a }
.EN
</pre>
</div>
<p class="Pp">Alternatively, we could define the plus-minus sign as a binary
    operator. Automatic spacing puts 0.06&#x00A0;em less space on either side of
    the plus-minus than ~ does, this being the difference between the widths of
    the <b>medium_space</b> parameter used by binary operators and that of the
    full space. Independently, we can define a macro &#x201C;frac&#x201D; for
    setting fractions.</p>
<div class="Bd-indent">
<p class="Pp"></p>
<pre>.EQ
chartype &quot;binary&quot; \[+-]
define frac ! { $1 } over { $2 } !
x = frac(- b \[+-] sqrt { b sup 2 - 4 a c }, 2 a)
.EN
</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="See_also"><a class="permalink" href="#See_also">See
  also</a></h1>
<p class="Pp">&#x201C;Typesetting Mathematics&#x2014;User's Guide&#x201D; (2nd
    edition), by Brian W. Kernighan and Lorinda L. Cherry, 1978, AT&amp;T Bell
    Laboratories Computing Science Technical Report No. 17.</p>
<p class="Pp"><i>The&#x00A0;TeXbook</i>, by Donald E. Knuth, 1984,
    Addison-Wesley Professional. Appendix&#x00A0;G discusses many of the
    parameters from section &#x201C;Customization&#x201D; above in greater
    detail.</p>
<p class="Pp"><i>groff_char</i>(7), particularly subsections &#x201C;Logical
    symbols&#x201D;, &#x201C;Mathematical symbols&#x201D;, and &#x201C;Greek
    glyphs&#x201D;, documents a variety of special character escape sequences
    useful in mathematical typesetting.</p>
<p class="Pp"><i>groff</i>(1), <i>troff</i>(1), <i>pic</i>(1),
    <i>groff_font</i>(5)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">31 March 2024</td>
    <td class="foot-os">groff 1.23.0</td>
  </tr>
</table>
</main>
</body>
</html>
