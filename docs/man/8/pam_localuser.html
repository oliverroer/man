<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>pam_localuser (8)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
<link href="/man/index.css" rel="stylesheet" />
</head>
<body style="overscroll-behavior-x: auto">
<main>
<table class="head">
  <tr>
    <td class="head-ltitle">PAM_LOCALUSER(8)</td>
    <td class="head-vol">Linux-PAM Manual</td>
    <td class="head-rtitle">PAM_LOCALUSER(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">pam_localuser - require users to be listed in /etc/passwd</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp HP"><b>pam_localuser.so</b> [debug] [file=<i>/path/passwd</i>]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">pam_localuser is a PAM module to help implementing site-wide login
    policies, where they typically include a subset of the network's users and a
    few accounts that are local to a particular workstation. Using pam_localuser
    and pam_wheel or pam_listfile is an effective way to restrict access to
    either local users and/or a subset of the network's users.</p>
<p class="Pp">This could also be implemented using pam_listfile.so and a very
    short awk script invoked by cron, but it's common enough to have been
    separated out.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">debug</p>
<div class="Bd-indent">Print debug information.</div>
<p class="Pp">file=/path/passwd</p>
<div class="Bd-indent">Use a file other than /etc/passwd.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="MODULE_TYPES_PROVIDED"><a class="permalink" href="#MODULE_TYPES_PROVIDED">MODULE
  TYPES PROVIDED</a></h1>
<p class="Pp">All module types (<b>account</b>, <b>auth</b>, <b>password</b> and
    <b>session</b>) are provided.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUES"><a class="permalink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
<p class="Pp">PAM_SUCCESS</p>
<div class="Bd-indent">The new localuser was set successfully.</div>
<p class="Pp">PAM_BUF_ERR</p>
<div class="Bd-indent">Memory buffer error.</div>
<p class="Pp">PAM_CONV_ERR</p>
<div class="Bd-indent">The conversation method supplied by the application
  failed to obtain the username.</div>
<p class="Pp">PAM_INCOMPLETE</p>
<div class="Bd-indent">The conversation method supplied by the application
  returned PAM_CONV_AGAIN.</div>
<p class="Pp">PAM_SERVICE_ERR</p>
<div class="Bd-indent">The user name is not valid or the passwd file is
  unavailable.</div>
<p class="Pp">PAM_PERM_DENIED</p>
<div class="Bd-indent">The user is not listed in the passwd file.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">Add the following lines to /etc/pam.d/su to allow only local users
    or group wheel to use su.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>account sufficient pam_localuser.so
account required pam_wheel.so
<br/>
      </pre>
</div>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<p class="Pp">/etc/passwd</p>
<div class="Bd-indent">Local user account information.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>pam.conf</b>(5), <b>pam.d</b>(5), <b>pam</b>(7)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">pam_localuser was written by Nalin Dahyabhai
    &lt;nalin@redhat.com&gt;.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">05/07/2023</td>
    <td class="foot-os">Linux-PAM</td>
  </tr>
</table>
</main>
</body>
</html>
