<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>update-passwd (8)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
<link href="/index.css" rel="stylesheet" />
</head>
<body style="overscroll-behavior-x: auto">
<main>
<table class="head">
  <tr>
    <td class="head-ltitle">UPDATE-PASSWD(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">UPDATE-PASSWD(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">update-passwd - safely update /etc/passwd, /etc/shadow and
    /etc/group</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>update-passwd</b> [<i>options</i>]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>update-passwd</b> handles updates of /etc/passwd, /etc/shadow
    and /etc/group on running Debian systems. It compares the current files to
    master copies, distributed in the base-passwd package, and updates all
    entries in the global system range (that is, 0&#x2013;99). It leaves backup
    copies of the previous versions of modified files with the extension
    &#x2018;.org&#x2019; (for &#x201C;original&#x201D;).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp"><b>update-passwd</b> follows the usual GNU command line syntax,
    with long options starting with two dashes (&#x2018;-&#x2019;).</p>
<dl class="Bl-tag">
  <dt id="p"><a class="permalink" href="#p"><b>-p</b>,&#x00A0;<b>--passwd-master=FILE</b></a></dt>
  <dd>Use FILE as the master copy of the passwd database. The default value is
      <i>/usr/share/base-passwd/passwd.master</i>.</dd>
  <dt id="g"><a class="permalink" href="#g"><b>-g</b>,&#x00A0;<b>--group-master=FILE</b></a></dt>
  <dd>Use FILE as the master copy of the group database. The default value is
      <i>/usr/share/base-passwd/group.master</i>.</dd>
  <dt id="P"><a class="permalink" href="#P"><b>-P</b>,&#x00A0;<b>--passwd=FILE</b></a></dt>
  <dd>Use FILE as the system passwd database. The default value is
      <i>/etc/passwd</i>.</dd>
  <dt id="S"><a class="permalink" href="#S"><b>-S</b>,&#x00A0;<b>--shadow=FILE</b></a></dt>
  <dd>Use FILE as the system shadow database. The default value is
      <i>/etc/shadow</i>.</dd>
  <dt id="G"><a class="permalink" href="#G"><b>-G</b>,&#x00A0;<b>--group=FILE</b></a></dt>
  <dd>Use FILE as the system group database. The default value is
      <i>/etc/group</i>.</dd>
  <dt id="s"><a class="permalink" href="#s"><b>-s</b>,&#x00A0;<b>--sanity-check</b></a></dt>
  <dd>Only perform sanity-checks but don't do anything.</dd>
  <dt id="v"><a class="permalink" href="#v"><b>-v</b>,&#x00A0;<b>--verbose</b></a></dt>
  <dd>Give detailed information about what we are doing. A second -v gives
      additional detail.</dd>
  <dt id="n"><a class="permalink" href="#n"><b>-n</b>,&#x00A0;<b>--dry-run</b></a></dt>
  <dd>Don't do anything but only show what we would do.</dd>
  <dt id="L"><a class="permalink" href="#L"><b>-L</b>,&#x00A0;<b>--no-locking</b></a></dt>
  <dd>Don't attempt to lock the account database. This should only be used for
      debugging purposes. <b>I repeat: do not do this unless you are really sure
      you need this!</b></dd>
  <dt id="h"><a class="permalink" href="#h"><b>-h</b>,&#x00A0;<b>--help</b></a></dt>
  <dd>Show a summary of how to use <b>update-passwd</b>.</dd>
  <dt id="V"><a class="permalink" href="#V"><b>-V</b>,&#x00A0;<b>--version</b></a></dt>
  <dd>Show the version number</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt id="DEBIAN_HAS_FRONTEND"><a class="permalink" href="#DEBIAN_HAS_FRONTEND">DEBIAN_HAS_FRONTEND</a></dt>
  <dd>If this environment variable is set and the <b>--dry-run</b> flag was not
      given, <b>update-passwd</b> uses debconf to prompt for whether to make
      changes. Each proposed change will produce a separate prompt. User or
      group removals, UID or GID changes, and home directory changes will be
      asked with high priority. User or group additions and shell changes will
      be asked with medium priority. Questions about whether to move entries
      above the NIS compat inclusion entry or whether to change the GECOS of a
      user are asked at low priority.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">At this moment <b>update-passwd</b> does not verify the
    shadow-file. It should check if the entries in the passwd are also in shadow
    and vice versa, and that passwords are not present in both files.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Wichert Akkerman &lt;wakkerma@debian.org&gt;</p>
<p class="Pp">This program was written for the Debian project, and is copyright
    1999&#x2013;2002 Wichert Akkerman and copyright 2002, 2003 Colin Watson. It
    is distributed under version 2 of the GNU General Public License.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Debian tools</td>
    <td class="foot-os">DEBIAN</td>
  </tr>
</table>
</main>
</body>
</html>
