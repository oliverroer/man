<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>filefrag (8)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
<link href="/index.css" rel="stylesheet" />
</head>
<body style="overscroll-behavior-x: auto">
<main>
<table class="head">
  <tr>
    <td class="head-ltitle">FILEFRAG(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">FILEFRAG(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">filefrag - report on file fragmentation</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>filefrag</b> [ <b>-b</b><i>blocksize</i> ] [ <b>-BeEkPsvVxX</b>
    ] [ <i>files...</i> ]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>filefrag</b> reports on how badly fragmented a particular file
    might be. It makes allowances for indirect blocks for ext2 and ext3 file
    systems, but can be used on files for any file system.</p>
<p class="Pp">The <b>filefrag</b> program initially attempts to get the extent
    information using FIEMAP ioctl which is more efficient and faster. If FIEMAP
    is not supported then filefrag will fall back to using FIBMAP.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="B"><a class="permalink" href="#B"><b>-B</b></a></dt>
  <dd>Force the use of the older FIBMAP ioctl instead of the FIEMAP ioctl for
      testing purposes.</dd>
  <dt id="b"><a class="permalink" href="#b"><b>-b</b><i>blocksize</i></a></dt>
  <dd>Use <i>blocksize</i> in bytes, or with [KMG] suffix, up to 1GB for output
      instead of the file system blocksize. For compatibility with earlier
      versions of <b>filefrag</b>, if <i>blocksize</i> is unspecified it
      defaults to 1024 bytes. Since <i>blocksize</i> is an optional argument, it
      must be added without any space after <b>-b</b>.</dd>
  <dt id="e"><a class="permalink" href="#e"><b>-e</b></a></dt>
  <dd>Print output in extent format, even for block-mapped files.</dd>
  <dt id="E"><a class="permalink" href="#E"><b>-E</b></a></dt>
  <dd>Display the contents of ext4's extent status cache. This feature is not
      supported on all kernels, and is only supported on ext4 file systems.</dd>
  <dt id="k"><a class="permalink" href="#k"><b>-k</b></a></dt>
  <dd>Use 1024-byte blocksize for output (identical to '-b1024').</dd>
  <dt id="P"><a class="permalink" href="#P"><b>-P</b></a></dt>
  <dd>Pre-load the ext4 extent status cache for the file. This is not supported
      on all kernels, and is only supported on ext4 file systems.</dd>
  <dt id="s"><a class="permalink" href="#s"><b>-s</b></a></dt>
  <dd>Sync the file before requesting the mapping.</dd>
  <dt id="v"><a class="permalink" href="#v"><b>-v</b></a></dt>
  <dd>Be verbose when checking for file fragmentation.</dd>
  <dt id="V"><a class="permalink" href="#V"><b>-V</b></a></dt>
  <dd>Print version number of program and library. If given twice, also print
      the FIEMAP flags that are understood by the current version.</dd>
  <dt id="x"><a class="permalink" href="#x"><b>-x</b></a></dt>
  <dd>Display mapping of extended attributes.</dd>
  <dt id="X"><a class="permalink" href="#X"><b>-X</b></a></dt>
  <dd>Display extent block numbers in hexadecimal format.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp"><b>filefrag</b> was written by Theodore Ts'o
    &lt;tytso@mit.edu&gt;.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">February 2023</td>
    <td class="foot-os">E2fsprogs version 1.47.0</td>
  </tr>
</table>
</main>
</body>
</html>
