<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>e2scrub (8)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
<link href="/index.css" rel="stylesheet" />
</head>
<body style="overscroll-behavior-x: auto">
<main>
<table class="head">
  <tr>
    <td class="head-ltitle">E2SCRUB(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">E2SCRUB(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">e2scrub - check the contents of a mounted ext[234] file system</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>e2scrub [OPTION] MOUNTPOINT | DEVICE</b></p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>e2scrub</b> attempts to check (but not repair) all metadata in
    a mounted ext[234] file system if the file system resides on an LVM logical
    volume. The block device of the LVM logical volume can also be passed
  in.</p>
<p class="Pp">This program snapshots the volume and runs a file system check on
    the snapshot to look for corruption errors. The LVM volume group must have
    at least 256MiB of unallocated space to dedicate to the snapshot or the
    logical volume will be skipped. The snapshot will be named
    <i>lvname</i>.e2scrub and <b>udev</b> will not create symbolic links to it
    under <i>/dev/disk</i>. Every attempt will be made to remove the snapshots
    prior to running <b>e2scrub</b>, but in a dire situation it may be necessary
    to remove the snapshot manually.</p>
<p class="Pp">If no errors are found, <b>fstrim</b> can be called on the file
    system if it is mounted. If errors are found, the file system will be marked
    as having errors. The file system should be taken offline and <b>e2fsck</b>
    run as soon as possible, because <b>e2scrub</b> does not fix corruptions. If
    the file system is not repaired, <b>e2fsck</b> will be run before the next
    mount.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="n"><a class="permalink" href="#n"><b>-n</b></a></dt>
  <dd>Print what commands <b>e2scrub</b> would execute to check the file system.
      (Note: the commands will not actually be executed; however, since
      <b>e2scrub</b> needs to run some commands to query the system to determine
      what commands would be executed, it still needs to be run as root.)</dd>
  <dt id="r"><a class="permalink" href="#r"><b>-r</b></a></dt>
  <dd>Remove the e2scrub snapshot and exit without checking anything.</dd>
  <dt id="t"><a class="permalink" href="#t"><b>-t</b></a></dt>
  <dd>Run <b>fstrim(1)</b> on the mounted file system if no errors are
    found.</dd>
  <dt id="V"><a class="permalink" href="#V"><b>-V</b></a></dt>
  <dd>Print version information and exit.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_CODE"><a class="permalink" href="#EXIT_CODE">EXIT
  CODE</a></h1>
<p class="Pp">The exit codes are the same as in <b>e2fsck</b>(8)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>e2fsck</b>(8)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Darrick J. Wong &lt;darrick.wong@oracle.com&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright &#x00A9;2018 Oracle. License is GPLv2+.
    &lt;http://www.gnu.org/licenses/gpl-2.0.html&gt;</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">February 2023</td>
    <td class="foot-os">E2fsprogs version 1.47.0</td>
  </tr>
</table>
</main>
</body>
</html>
